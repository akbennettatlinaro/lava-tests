metadata:
    name: git-lava-cherrypick
    format: "Lava-Test-Shell Test Definition 1.0"
    description: "Apply a cherry-pick identified by REPO and REF to lava project PROJECT"
params:
    INSTANCE: production
    DEVICE_TYPE: kvm
    ADMINUSER: admin
    ADMINPASS: admin
    NUMKVMS: 2
install:
    deps:
        - git-core
        - grep
        - curl
run:
    steps:
        - echo POPULATELAVA Add $NUMKVMS $DEVICE_TYPE to instance $INSTANCE
        - ./lava/add-kvm-devices.sh $INSTANCE $DEVICE_TYPE $NUMKVMS
	- echo POPULATELAVA Add user $ADMINUSER:$ADMINPASS to instance $INSTANCE
        - ./lava/create-superuser.sh $INSTANCE $ADMINUSER $ADMINPASS
        
        
